(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7169b147"],{4304:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("AlertMessage"),s("div",{staticClass:"my-5 row justify-content-center"},[s("form",{staticClass:"col-md-6"},[t._m(0),s("table",{staticClass:"table"},[t._m(1),s("tbody",t._l(t.order.products,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(e.qty)+"/"+t._s(e.product.unit)+" ")]),s("td",{staticClass:"align-middle text-right"},[t._v(t._s(e.final_total))])])})),0),s("tfoot",[s("tr",[s("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),s("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),t.order.is_paid?t._e():s("table",{staticClass:"table"},[s("tbody",[s("tr",[s("th",{attrs:{width:"120"}},[t._v("Email")]),s("td",[t._v(t._s(t.order.user.email))])]),s("tr",[s("th",[t._v("姓名")]),s("td",[t._v(t._s(t.order.user.name))])]),s("tr",[s("th",[t._v("收件人電話")]),s("td",[t._v(t._s(t.order.user.tel))])]),s("tr",[s("th",[t._v("收件人地址")]),s("td",[t._v(t._s(t.order.user.address))])]),t._m(2)])]),t.order.is_paid?s("div",{staticClass:"text-center mt-5"},[s("i",{staticClass:"fas fa-shipping-fast fa-8x"}),s("h3",{staticClass:"mt-4 h3 text-main"},[t._v("已接收到您的訂單囉，訂單正在製作中!!")]),s("p",{staticClass:"text-secondary mt-3"},[t._v("感謝您的訂購，商品預計30分鐘~1小時左右 如遇國定假日或尖峰時段等候時間請依現場時間為主謝謝。")]),s("p",{staticClass:"text-secondary mt-3"},[t._v("有任何問題請撥打我們的客服專線+88 888 888。")]),s("div",{staticClass:"mt-4 d-flex"},[s("router-link",{staticClass:"btn btn-outline-info mr-auto",attrs:{to:"/"}},[t._v("回首頁")]),s("router-link",{staticClass:"btn btn-main",attrs:{to:"/CustomerOrder"}},[t._v("繼續購物去!")])],1)]):t._e(),t.order.is_paid?t._e():s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.payOrder()}}},[t._v("確認付款")])])])])],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-main pt-1 pb-1 pl-2"},[s("h2",{staticClass:"text-light h2"},[t._v("購物車清單")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",[t._v("訂購品名")]),s("th",[t._v("數量")]),s("th",[t._v("單價")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("付款狀態")]),s("td",[s("span",[t._v("尚未付款")])])])}],i=(s("99af"),s("56a6")),n={data:function(){return{order:{user:{}},orderId:""}},methods:{getOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("chiaohu","/order/").concat(t.orderId);t.$http.get(e).then((function(e){t.order=e.data.order}))},payOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("chiaohu","/pay/").concat(t.orderId);t.$http.post(e).then((function(e){e.data.success?(t.$bus.$emit("message:push","付款完成","success"),t.getOrder()):t.$bus.$emit("message:push","付款失敗，請重新操作","danger")}))}},components:{AlertMessage:i["a"]},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},o=n,c=s("2877"),l=Object(c["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},"4a2f":function(t,e,s){"use strict";s("b1d9")},"56a6":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,a){return s("div",{key:a,staticClass:"alert alert-dismissible",class:"alert-"+e.status},[t._v(" "+t._s(e.message)+" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(a)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},r=[],i=(s("a434"),s("159b"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,e){var s=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:s}),this.removeMessageWithTiming(s)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(s,a){s.timestamp===t&&e.messages.splice(a,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("message:push",(function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,s)}))}}),n=i,o=(s("4a2f"),s("2877")),c=Object(o["a"])(n,a,r,!1,null,null,null);e["a"]=c.exports},8418:function(t,e,s){"use strict";var a=s("c04e"),r=s("9bf2"),i=s("5c6c");t.exports=function(t,e,s){var n=a(e);n in t?r.f(t,n,i(0,s)):t[n]=s}},"99af":function(t,e,s){"use strict";var a=s("23e7"),r=s("d039"),i=s("e8b5"),n=s("861d"),o=s("7b0b"),c=s("50c4"),l=s("8418"),d=s("65f0"),u=s("1dde"),f=s("b622"),h=s("2d00"),v=f("isConcatSpreadable"),m=9007199254740991,p="Maximum allowed index exceeded",_=h>=51||!r((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),g=u("concat"),b=function(t){if(!n(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)},C=!_||!g;a({target:"Array",proto:!0,forced:C},{concat:function(t){var e,s,a,r,i,n=o(this),u=d(n,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?n:arguments[e],b(i)){if(r=c(i.length),f+r>m)throw TypeError(p);for(s=0;s<r;s++,f++)s in i&&l(u,f,i[s])}else{if(f>=m)throw TypeError(p);l(u,f++,i)}return u.length=f,u}})},a434:function(t,e,s){"use strict";var a=s("23e7"),r=s("23cb"),i=s("a691"),n=s("50c4"),o=s("7b0b"),c=s("65f0"),l=s("8418"),d=s("1dde"),u=d("splice"),f=Math.max,h=Math.min,v=9007199254740991,m="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var s,a,d,u,p,_,g=o(this),b=n(g.length),C=r(t,b),x=arguments.length;if(0===x?s=a=0:1===x?(s=0,a=b-C):(s=x-2,a=h(f(i(e),0),b-C)),b+s-a>v)throw TypeError(m);for(d=c(g,a),u=0;u<a;u++)p=C+u,p in g&&l(d,u,g[p]);if(d.length=a,s<a){for(u=C;u<b-a;u++)p=u+a,_=u+s,p in g?g[_]=g[p]:delete g[_];for(u=b;u>b-a+s;u--)delete g[u-1]}else if(s>a)for(u=b-a;u>C;u--)p=u+a-1,_=u+s-1,p in g?g[_]=g[p]:delete g[_];for(u=0;u<s;u++)g[u+C]=arguments[u+2];return g.length=b-a+s,d}})},b1d9:function(t,e,s){}}]);
//# sourceMappingURL=chunk-7169b147.a260102d.js.map