(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b39a1fa"],{"466d":function(t,a,e){"use strict";var s=e("d784"),i=e("825a"),r=e("50c4"),c=e("1d80"),n=e("8aa5"),o=e("14c3");s("match",1,(function(t,a,e){return[function(a){var e=c(this),s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,e):new RegExp(a)[t](String(e))},function(t){var s=e(a,t,this);if(s.done)return s.value;var c=i(t),l=String(this);if(!c.global)return o(c,l);var u=c.unicode;c.lastIndex=0;var d,h=[],f=0;while(null!==(d=o(c,l))){var p=String(d[0]);h[f]=p,""===p&&(c.lastIndex=n(l,r(c.lastIndex),u)),f++}return 0===f?null:h}]}))},"4a2f":function(t,a,e){"use strict";e("b1d9")},"56a6":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v(" "+t._s(a.message)+" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},i=[],r=(e("a434"),e("159b"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout((function(){a.messages.forEach((function(e,s){e.timestamp===t&&a.messages.splice(s,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("message:push",(function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)}))}}),c=r,n=(e("4a2f"),e("2877")),o=Object(n["a"])(c,s,i,!1,null,null,null);a["a"]=o.exports},"7e8a":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("AlertMessage"),e("loading",{attrs:{active:t.isLoading}}),t._m(0),e("div",{staticClass:"container customerorder"},[e("div",{staticClass:"row d-flex"},[e("div",{staticClass:"col-md-3"},[e("ul",{staticClass:"text-center ml-3 mr-3 mt-4"},[e("li",{staticClass:"mt-3 text-danger font-weight-bold"},[e("a",{staticClass:"menu",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.category="all"}}},[t._v("全部商品")])]),e("li",{staticClass:"mt-3 text-danger font-weight-bold"},[e("a",{staticClass:"menu",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.category="hot"}}},[e("i",{staticClass:"fas fa-fire"}),t._v(" 熱門披薩")])]),e("li",{staticClass:"mt-3 text-danger font-weight-bold"},[e("a",{staticClass:"menu",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.category="classic"}}},[t._v("經典口味")])]),e("li",{staticClass:"mt-3 text-danger font-weight-bold"},[e("a",{staticClass:"menu",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.category="dessert"}}},[t._v("點心/飲料")])])])]),e("div",{staticClass:"col-md-9 mb-4 mt-4"},[e("div",{staticClass:"row"},t._l(t.filterMenu,(function(a){return e("div",{key:a.id,staticClass:"col-sm-6 col-lg-4"},[e("div",{staticClass:"card border-1 shadow-sm mb-3 mt-3"},[e("div",{staticClass:"productImg",staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.image+")"},on:{click:function(e){return t.getProduct(a.id)}}}),e("div",{staticClass:"card-body",on:{click:function(e){return t.getProduct(a.id)}}},[e("span",{staticClass:"badge rounded-pill badge-danger float-right ml-2"},[t._v(t._s(a.category))]),e("h5",{staticClass:"card-title"},[e("p",{staticClass:"text-dark font-weight-bold title"},[t._v(" "+t._s(a.title)+" ")])]),e("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.price?t._e():e("div",{staticClass:"h5"},[t._v(" "+t._s(a.origin_price)+" 元 ")]),a.price?e("del",{staticClass:"h6"},[t._v("原價 "+t._s(a.origin_price)+" 元")]):t._e(),a.price?e("div",{staticClass:"h5"},[e("p",{staticClass:"text-danger font-weight-bold"},[t._v(" 特價 "),e("span",{staticClass:"productPrice"},[t._v(t._s(a.price))]),t._v(" 元 ")])]):t._e()])]),e("div",{staticClass:"card-footer d-flex"},[e("button",{staticClass:"btn btn-outline-main btn-sm",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addtoCart(a.id)}}},[t._v(" 加到購物車 ")]),e("router-link",{staticClass:"btn btn-outline-success btn-sm ml-auto",attrs:{to:"/ShoppingCart"}},[t._v(" 前往結帳 ")])],1)])])})),0)])])]),t.cart.length>0?e("div",{staticClass:"shoppingCar"},[e("router-link",{attrs:{to:"/ShoppingCart"}},[e("i",{staticClass:"fas fa-shopping-cart fa-4x text-success"}),e("div",{staticClass:"unitbg"},[e("p",{staticClass:"cartunit text-dark font-weight-bold"},[t._v(" "+t._s(t.cart.length)+" ")])])])],1):t._e()],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel","data-interval":"5000"}},[e("ol",{staticClass:"carousel-indicators"},[e("li",{staticClass:"active",attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"0"}}),e("li",{attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}})]),e("div",{staticClass:"carousel-inner"},[e("div",{staticClass:"carousel-item header-carousel-product carousel-product1 bg-cover active"}),e("div",{staticClass:"carousel-item header-carousel-product carousel-product2 bg-cover"})]),e("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[e("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sr-only"},[t._v("Previous")])]),e("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[e("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sr-only"},[t._v("Next")])])])}],r=(e("99af"),e("4de4"),e("466d"),e("ac1f"),e("56a6")),c={data:function(){return{products:[],product:{},isLoading:!1,cart:{},category:"all"}},methods:{getProducts:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("chiaohu","/products/all");t.isLoading=!0,t.$http.get(a).then((function(a){t.products=a.data.products,t.isLoading=!1}))},getProduct:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("chiaohu","/product/").concat(t);a.$http.get(e).then((function(t){a.product=t.data.product,a.$router.push("/CustomerOrder/".concat(t.data.product.id))}))},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("chiaohu","/cart"),i={product_id:t,qty:a};e.isLoading=!0,e.$http.post(s,{data:i}).then((function(t){e.isLoading=!1,e.$bus.$emit("message:push","已加入購物車","success"),e.getCart()}))},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("chiaohu","/cart");t.isLoading=!0,t.$http.get(a).then((function(a){t.cart=a.data.data,t.isLoading=!1})),t.checkCart()},checkCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("chiaohu","/cart");t.$http.get(a).then((function(a){t.cart=a.data.data.carts}))}},components:{AlertMessage:r["a"]},computed:{filterMenu:function(){return"all"===this.category?this.products:"hot"===this.category?this.products.filter((function(t){return t.category.match("熱門pizza")})):"classic"===this.category?this.products.filter((function(t){return t.category.match("經典口味")})):"dessert"===this.category?this.products.filter((function(t){return t.category.match("點心")})):void 0}},created:function(){this.getProducts(),this.getCart()}},n=c,o=e("2877"),l=Object(o["a"])(n,s,i,!1,null,null,null);a["default"]=l.exports},8418:function(t,a,e){"use strict";var s=e("c04e"),i=e("9bf2"),r=e("5c6c");t.exports=function(t,a,e){var c=s(a);c in t?i.f(t,c,r(0,e)):t[c]=e}},"99af":function(t,a,e){"use strict";var s=e("23e7"),i=e("d039"),r=e("e8b5"),c=e("861d"),n=e("7b0b"),o=e("50c4"),l=e("8418"),u=e("65f0"),d=e("1dde"),h=e("b622"),f=e("2d00"),p=h("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",m=f>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),C=d("concat"),b=function(t){if(!c(t))return!1;var a=t[p];return void 0!==a?!!a:r(t)},_=!m||!C;s({target:"Array",proto:!0,forced:_},{concat:function(t){var a,e,s,i,r,c=n(this),d=u(c,0),h=0;for(a=-1,s=arguments.length;a<s;a++)if(r=-1===a?c:arguments[a],b(r)){if(i=o(r.length),h+i>g)throw TypeError(v);for(e=0;e<i;e++,h++)e in r&&l(d,h,r[e])}else{if(h>=g)throw TypeError(v);l(d,h++,r)}return d.length=h,d}})},a434:function(t,a,e){"use strict";var s=e("23e7"),i=e("23cb"),r=e("a691"),c=e("50c4"),n=e("7b0b"),o=e("65f0"),l=e("8418"),u=e("1dde"),d=u("splice"),h=Math.max,f=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!d},{splice:function(t,a){var e,s,u,d,v,m,C=n(this),b=c(C.length),_=i(t,b),x=arguments.length;if(0===x?e=s=0:1===x?(e=0,s=b-_):(e=x-2,s=f(h(r(a),0),b-_)),b+e-s>p)throw TypeError(g);for(u=o(C,s),d=0;d<s;d++)v=_+d,v in C&&l(u,d,C[v]);if(u.length=s,e<s){for(d=_;d<b-s;d++)v=d+s,m=d+e,v in C?C[m]=C[v]:delete C[m];for(d=b;d>b-s+e;d--)delete C[d-1]}else if(e>s)for(d=b-s;d>_;d--)v=d+s-1,m=d+e-1,v in C?C[m]=C[v]:delete C[m];for(d=0;d<e;d++)C[d+_]=arguments[d+2];return C.length=b-s+e,u}})},b1d9:function(t,a,e){}}]);
//# sourceMappingURL=chunk-5b39a1fa.b5ef0199.js.map